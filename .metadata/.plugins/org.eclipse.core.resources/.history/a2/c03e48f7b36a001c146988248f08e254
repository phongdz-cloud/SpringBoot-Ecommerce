<!DOCTYPE html>
<html xmlns:th="http://www.thymleaf.org">

<head th:replace="fragments :: page_head(${pageTitle})">
</head>

<body>
	<div class="container-fluid">
		<div th:replace="navigation :: menu"></div>
		<div>
			<h2>Manage Brands | [[${pageTitle}]]</h2>
		</div>

		<form th:action="@{/brands/save}" method="post" style="max-width: 700px; margin:0 auto"
			th:object="${brand}" enctype="multipart/form-data" >
			<input type="hidden" th:field="*{id}" />
			<div class="border border-secondary rounded p-3">
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Brand Name:</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" th:field="*{name}" required minlength="3"
							maxlength="45" />
					</div>
				</div>
				
				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Image:</label>
					<div class="col-sm-8">
						<input type="hidden" th:field="*{image}" />
						<input type="file" id="fileImage" name="fileImage" accept="image/png, image/jpeg" class="mb-2"
							th:required="${category.image == null}" />

						<div class="mt-2">
							<img id="thumbnail" alt="Image preview" th:src="@{${category.imagePath}}"
								class="img-fluid" />
						</div>
					</div>
				</div>

				<div class="form-group row">
					<label class="col-sm-4 col-form-label">Parent Category:</label>
					<div class="col-sm-8">
						<select class="form-control" th:field="*{parent}">
							<option th:if="${category.name != null}" value="0">[[${category.name}]]</option>
							<option th:if="${category.name == null}" value="0">[No parent]</option>
							<th:block th:each="cat : ${listCategories}">
								<option th:value="${cat.id}">[[${cat.name}]]</option>
							</th:block>
						</select>
					</div>
				</div>


		</form>



		<div th:replace="modal_fragments :: modal_dialog"></div>
		<div th:replace="fragments :: footer"></div>
	</div>

	<script type="text/javascript">
		moduleURL = "[[@{/brands}]]";

	</script>
	<script th:src="@{/js/common_form.js}"></script>
</body>

</html>